const { fstat } = require('fs');
var pretty = require('pretty');
const fs = require('fs');
let htmlString = '<style>#editorOuter {width: 1200px;overflow: hidden;position: relative;background: #f5f5f5;}#editorInner {margin: auto;}#myCanvas {position: absolute;}#pic {width: 100%;height: auto;}#text {width: 1000px;}.btn:hover {text-shadow: 0px 0px 1px black;}.fixed_width {width: 130px !important;}#object-class {width: 200px;float: right;}#text {margin-bottom: 20px;}#buttons {margin-top: 20px;}</style><link rel="stylesheet" href="https://stackpath.' +
        'bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.7/paper-full.js"><' +
        '/script>' + '<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></' + 'script>' + '<div id="text" style="display:inline-block;vertical-align:top;padding-left: 15px;padding-top: 15px;"><button id="title" type="button" class="btn btn-outline-primary btn-lg">Instructions</button><select id="object-class" class="form-control"></select><div id="instruction"><br>Please draw a segmentation mask over each individual egg in the image. Eggs are typically dark, oblong, and have antennae; however, sometimes they may also be lighter and more irregularly shaped.<br><br><h5>How to identify eggs</h5><span style="color: #0ba133"><strong>Good example</strong><br></span> Each egg is labelled to its outer edge, excluding antennae. Individual eggs are accurately labelled even in the dense regions.<br><img src="https://egg-laying.s3.us-east-2.amazonaws.com/examples/goodLabelsExampleMechTurk.jpg"><br><br> Sometimes the eggs are dimmer, such as the one at the bottom of this image, but they should still be counted.<br><img src="https://egg-laying.s3.us-east-2.amazonaws.com/examples/dimEggExample.jpg"><br><br><span style="color: #a11a0b"><strong>Bad example</strong><br></span> In this example, the labelling problems are as follows:<ol><li>Some eggs are not labelled.</li><li>Large dark regions are labelled even though they are not eggs.</li><li>Some labels span multiple eggs.</li><li>Labels do not align well with the borders of the eggs, and have irregular shapes instead of the expected oval.</li></ol><img src="https://egg-laying.s3.us-east-2.amazonaws.com/examples/badExamples.jpg"><br><br><h5>How to use the tool</h5><ul><li>Hold <strong>right click</strong> to drag the image.</li><li><strong>Left click</strong> to annotate the image using the brush tool when in annotation mode and to delete annotations when in delete mode.</li><li><strong>Right click</strong> to pan (drag) the image.</li><li>The <strong>Mode toggle</strong> button indicates the current mode (currently, only brush is supported).</li><li>Press <strong>C</strong> to confirm a label and lock it from further editing.</li><li>Click <strong>Delete/Annotate</strong> flip switch or press <strong>D</strong> to toggle between deleting and annotating.</li><li>Click the <strong>Reset</strong> button to clear all annotations.</li><li>Click the <strong>Reposition</strong> button to center the image and reset zoom.</li><li>Click the <strong>Submit</strong> button to finish current task.</li><li>Use the <strong>sliders</strong> to adjust brush radius and the annotations\' transparency.</li><li>Use the <strong>scroll wheel</strong> to zoom in and out.</li></ul></div><p id="buttons"><input class="btn btn-info fixed_width mr-1" id="mode_button" type="button" value="Dot Mode" /><span id="delete_flip" class="btn-group btn-group-toggle mr-1" data-toggle="buttons"><label class="btn btn-outline-secondary" type="radio" name="options" id="delete_button" autocomplete="off" checked> Delete </label><label class="btn btn-primary" type="radio" name="options" id="annotate_button" autocomplete="off">Annotate </label></span><input class="btn btn-danger mr-1" id="reset_button" type="button" value="Reset" /><input class="btn btn-warning mr-1" id="reposition_button" type="button" value="Reposition" /><input class="btn btn-success mr-1" type="button" id="submitButton" value="Submit" /></p><p><label for="transparency_slider">Transparency percentage</label><input type="range" min="0" max="100" class="range-field my-4 w-25" id="transparency_slider"></p><p><label for="brush_radius_slider">Brush radius</label><input type="range" value="10" min="3" max="40" class="range-field my-4 w-25" id="brush_rad_slider"></p></div><div id="editorOuter" style="margin-left: 15px;"><div id="editorInner"><canvas id="myCanvas" keepalive="true"></canvas><img id="pic" src="{{ task.input.taskObject | grant_read_access }}" /></div></div><script id="turkey" type="text/javascript" src="https://egg-laying.s3.us-east-2.amazonaws.com/assets/bundle.min.js"></' +
        'script><script type="text/javascript">document.getElementById("submitButton").onclick = function () {window.parent.document.getElementById("annotations").value' +
        ' = JSON.stringify(Object.values(window.oldBrushes).map(brush => {delete brush.brush; return brush;}));window.parent.document.getElementById("hiddenSubmit").click();};<' + '/script>';
console.log(pretty(htmlString, {ocd: true}));
fs.writeFile('app.html', pretty(htmlString, {ocd: true}), (err) => {
    if (err) {
        return console.log(err);
    }
    console.log('Saved app.html!');
})